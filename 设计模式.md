## 设计模式
### 1、单例模式
#### I 饿汉式-线程安全
```java
class Singleton{

	private static uniqueInstance = new Singleton();

    private Singleton(){
    }
    
    public static getUniqueInstance(){
        return uniqueInstance;
    }
}
```
#### II 懒汉式-线程不安全
```java
class Singleton{
	private static Singleto uniqueInstance;
  
	private Singleton(){}
  
	public static Singleton getUniqueInstance(){
    	if(uniqueInstance==null){
            uniqueSingleton = new Singleton();
		}
		retuen uniqueInstace;
	}
}
```

#### III 懒汉式-双重效验-线程安全
```java
class Singleton{
	private static volatile Singleto uniqueInstance;
  
	private Singleton(){}
  
	public static Singleton getUniqueInstance(){
    	if(uniqueInstance==null){
			synchronize(Singleton.class){
				if(uniqueInstance==null)
					uniqueSingleton = new Singleton();
			}
		}
		retuen uniqueInstace;
	}

}
```
#### IV 静态内部类实现
当 Singleton 类加载时，静态内部类 SingletonHolder 没有被加载进内存。只有当调用 `getUniqueInstance()` 方法从而触发`SingletonHolder.INSTANCE` 时 SingletonHolder 才会被加载，此时初始化 INSTANCE 实例，并且 JVM 能确保 INSTANCE 只被实例化一次。

这种方式不仅具有延迟初始化的好处，而且由 JVM 提供了对线程安全的支持。
```java
class Singleton{
    private Singleton(){}
    
    private static SingletonHolder{
        private static final Singleton INSTANCE = new Singleton();
    }
    
    public static Singleton getUniqueInstance(){
        return SingletonHolder.INSTANCE;
    }
}

```
### 2、简单工厂（Simple Factory）
### 意义
在创建一个对象时，不向客户暴露内部细节，并提供一个创建对象的通用接口。
简单工厂把实例化的操作单独放到一个类中，这个类就成为了简单工厂类，让简单工厂类来决定应该用哪个具体子类来实例化。

这样做能使客户类和具体子类实现解耦，客户类不再需要知道有哪些子类以及应当实例化哪个子类。客户类往往有多个，如果不适用简单工厂类，那么所有的客户类都要知道所有子类的细节。而且一旦子类发送改变，例如增加子类，那么所有的客户类都要进行修改。
### 例子
```java
public interface Product{
}
````
```java
public class ConcreateProduct1 implements Product{
}
````
```java
public class ConcreateProduct2 implements Product{
}
````
```java
public class ConcreateProduct3 implements Product{
}
````
一下的Client类包含了实例化的代码，这是一种错误的实现。如果在客户类中存在这种实例代码，就需要考虑将代码放到简单工厂中。
```java
public class Client{
	public static void main(String[] args){
		int type = 1;
		Product produce;
		if (type == 1) {
			product = new ConcreateProduct1();
		} else if (type == 2) {
			product = new ConcreateProduct2();
		} else if (type == 3) {
			product = new ConcreateProduct3();
		}
		//...
	}
}
```
以下是SimpleFactory的实现，它被所有需要进行实例化的客户类调用。
```java
public class SimpleFactory{
	public Product creaeProduct(int type) {
		if (type == 1) {
			return new ConcreateProduct1();
		} else if (type == 2) {
			return new ConcreateProduct2();
		} else {
			return new ConcreateProduct3();
		}
	}
}
```
```java
public class Client{
	
	public static void main(String[] args) {
		SimpleFactory simpleFactory = new SimpleFactory();
		Product product = simpleFactory.createProduct(1);
		//...
	}
}
```
### 3、工厂方法（Factory Method）
#### 意义
定义了一个创建对象的接口，但由子类决定要实例化哪个类，工厂方法把实例化操作推迟到子类。
