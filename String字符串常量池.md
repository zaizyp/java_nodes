## 字符串常量池
作为最基础的引用数据类型，Java设计者为String提供了字符串常量池以提高其性能，那么字符串常量池的具体原理是什么，我们带着一下三个问题，去理解字符串常量池：
- 字符串常量池的设计意图是什么？

 字符串常量池在哪里？
- 如何去操作字符串常量池？
### 字符串常量池的设计思想
- 字符串的分配，和其他的对象分配一样，耗费高昂的时间与空间代价，作为最基础的数据类型，大量频繁的创建字符串，极大程度的影响程序的性能。
- JVM为了提高性能和减少开销，在实例化字符串常量的时候进行了一些优化
  - 为字符串开辟一个字符串常量池，类似于缓存区
  - 创建字符串常量时，首先判断字符串常量池是否存在该字符串
  - 存在该字符串，返回引用实例，不存在，实例化该字符串并放入池中
- 实现的基础
  - 实现该优化的基础是因为字符串是不可变的，可以不用去担心数据冲突进行共享
  - 运行时实例创建的全局字符串常量池中有一个表，总是为池中每个唯一的字符串对象维护一个引用，这就意味着它们一直引用着字符串常量池中的对象，所以，在常量池中的这些字符串对象不会被垃圾收集器回收
  代码：从字符串常量池中获取相应的字符串：
```java
String str1 = "hello";
String str2 = "hello";
System.out.println("str1 == str2:"+str1==str2);
```
### 字符串常量池存在哪里
在分析字符串常量池的位置时，首先了解一下堆、栈、方法区
![JVM内存](https://segmentfault.com/img/bVPR40?w=551&h=323)
- 堆
  - 存储的是对象，每个对象都包含一个与之对应的class
  - JVM只有一个堆区（heap）被所有线程共享，堆找那个不存放基本类型和对象引用，只存放对象本身
  -对象由垃圾回收器负责回收，因此大小和生命周期不需要确定
- 栈
  - 每个线程包含一个栈区，栈中只保存基础数据类型的数据和对象的引用
  - 每个栈中的数据（原始类型和对象引用）都是私有的
  - 栈分为三个部分：基本数据类型变量区、执行环境上下文、操作指令区（存放操作指令）
  数据大小和生命周期都可以确定，当没有引用指向数据时，这个数据就会自动消失
